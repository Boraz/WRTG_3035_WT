
<!DOCTYPE html>
<html>
  <head>
	<!--Import materialize.css-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">
	
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<body class='grey darken-4'>
  <!--Import jQuery before materialize.js-->
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>
  <script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>

  <div class="navbar">
    <nav>
      <div class="nav-wrapper red accent-4" id="SPpark-nav">
        <!-- the href refreshes the page, but its all dynamic so its only for the user -->
        <a href="index.html" class="brand-logo center">Weathertech</a>
          <ul class="right hide-on-small-and-down">
            <li><a href="orders.html">See your order</a></li>
          </ul>
      </div>
    </nav>
  </div>

  <div class"container">

  </div>

  <div class="container">
    <div class="card-panel grey lighten-5">
      <div class="row">
        <div class="col s12 center-align">
          <h4> Weathertech Online Ordering </h4>
          <!-- Good section for status of the WeatherTech. Like closed or no calzones w/e -->
          <h1> 
            WOO!
          </h1>

        </div>
      </div>

      <div class="row">
        <form class="col s12">
          <div class="row">
            <div class="input-field col s12 m6 offset-m3">
              <input id="name" type="text" class="validate">
              <label for="nickname">Name</label>
            </div>
          </div>
          <div class="row">
            
            <div class="input-field col s12 m6 offset-m3">
              <input id="email" type="email" class="validate">
            <label for="email" data-error="Not_valid">Email</label>
            </div>
            
            <div class="input-field col s12 m8 offset-m2">
              <select id="food" class="icons">
                <option value="" disabled selected>Choose a food</option>
              </select>
              <label>Food</label>
            </div>
            
            <div class="input-field col s12 m8 offset-m2">
              <select id="subtype">
                
              </select>
            </div>
            
            <div class="input-field col s12 m8 offset-m2" id="drink">
              <select multiple>
                <option value="" disabled selected>Choose a drink</option>
                <option value="1">Nectar of the gods</option>
                <option value="2">Fountain of youth</option>
                <option value="3">Elixir of life</option>
              </select>
              <label>Materialize Multiple Select</label>
          </div>
        </form>
      </div>
    	
      <div class="row">
        <div class="input-field col s10">
          <a class="waves-effect waves-light btn right red accent-4" id="submit">
          <i class="material-icons right">shopping_cart</i>Submit</a>
        </div>
      </div>
    </div>
  </div>

  <script src='js/index.js'></script>
	
</body>

<script>
  var root = new Firebase('https://wt-online.firebaseio.com/')
  var taskListRef = root.child('email')
  $('#submit').click(function() {
          console.log('the submit button is clicked')
          var name = $('#name').val()
          console.log('the name is', name)

          var food = $('#food').val()
          console.log('the food is', food)

          var drink = $('#drink').val()
          console.log('the drink is', drink)

          var taskObject = {
              name: name,
              food: food,
              drink: drink,
              completed: false
          }

          if (name == "" || food == null || drink == "") {
              alert("Invalid entry detected.");
              console.log("INVALID ENTRY")
              return
          } else {
              var newTaskRef = taskListRef.push()
              newTaskRef.set(taskObject)
              alert("Information Submitted.");
          }
      })
      // IMPORTANT!! initialize materializecss select
  $(document).ready(function() {
     $('select').material_select();
  });
</script>

</html>